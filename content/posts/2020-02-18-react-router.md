---
title: 'ูุฏุฎู ุฅูู ููุชุจุฉ React Router'
date: 2020-02-18
slug: 'react-router'
template: 'post'
categories:
  - ุฌุงูุง ุณูุฑูุจุช
tags:
  - React.js
  - React Router
thumbnail: '../thumbnails/react.png'
---

ููุชุจุฉ React.js ูุง ุชุฃุชู ูุน ุฃู **ูุธุงู ููุชูุฌูู** ุฃู ูุง ูุนุฑู ุจ Routingุ ูุฃููุง ุฃููุง ููุจู ูู ุดูุก ููุชุจุฉ ุฌุงูุง ุณูุฑูุจุช ูุจูุงุก ูุงุฌูุงุช ุงููุณุชุฎุฏู (ุฃู User Interface) ูููุณุช ุฅุทุงุฑ ุนูู ูุชูุงูู ูุซู ุฃูุฌููุงุฑ ุฃู ูุงุฑุงููู ุนูู ุณุจูู ุงููุซุงู.

ูุฐูู ุชูุฌุฏ ุนุฏุฏ ูู ุงูููุชุจุงุช ุงูููููุฉ ูุนูู React ูุงูุชู ุชุถูู ุฅูููุง ุฎุตุงุฆุต ููุฒุงูุง ุฌุฏูุฏุฉุ ููู ุจูููุง ูุฌุฏ ููุชุจุฉ **React-Router** ุงูุชูุ ููุง ูู ูุงุถุญ ูู ุงุณููุงุ ุชููู ุงููุทูุฑูู ูู ุงูุชุนุงูู ุจุดูู ุณูู ูุน Routing ูู [ุชุทุจููุงุช ุงูููุจ ุฃุญุงุฏูุฉ ุงูุตูุญุฉ](/web-development/javascript/what-is-single-page-application) ุงููุจููุฉ ุนูู React.js.

## ูุง ูู Router ุ

ุงูููุฌู ุฃู Router ูู ุงููุธุงู ุงูุฐู ูููู ูู ูุฑุงุกุฉ ุงูุฑูุงุจุท ูุงุณุชูุชุงุฌ ุงูุตูุญุฉ ุฃู ุงููุญุชูู ุงูุฐู ุณูุชู ุนุฑุถู ููุฒุงุฆุฑ ุฃู ุงููุณุชุฎุฏู.

ุฌููุน ุฃุทุฑ ุนูู ุชุทุจููุงุช ุงูููุจ ุชุชููุฑ ุนูู ูุธุงู ููุชูุฌูู ูุฃูู ูู ุงูุฃุณุงุณูุงุช ุงูุชู ูุญุชุงุฌูุง ูู ุฃู ุชุทุจูู ููุจ ูููุง ูุงู ุจุณูุทุง.

## ุชุซุจูุช react-router

ุฃููุง ููุจู ุชุซุจูุช `react-router` ุณูููู ุจุฅูุดุงุก ูุดุฑูุน [React.js](/web-development/javascript/react-javascript-library) ุจุงุณุชุฎุฏุงู `create-react-app`.

```bash
npx create-react-app simple-blog
```

ุณูููู ุจุฅูุดุงุก ูุฏููุฉ ุจุณูุทุฉ ุฌุฏุง.

ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุณูุนุฑุถ ูุฌููุน ุงูููุงูุงุช ูู ุงููุฏููุฉุ ูุนูุฏ ุงูููุฑ ุนูู ุนููุงู ุงูููุงูุฉ ุณูุชู ุชูุฌูููุง ุฅูููุง ูู ุฃุฌู ูุฑุงุกุชูุง. ููููู ูุฐูู ุงูููุฑ ุนูู ุงุณู ูุงุชุจ ุงูููุงูุฉ ููู ูุฑู ุฌููุน ุงูููุงูุงุช ุงูุชู ูุงู ุจูุดุฑูุง.

ุฅุฐู ูู ุงูููุงูุฉ ุณุชููู ูุฏููุง ุซูุงุซ ูุณุงุฑุงุช:

- `/`: ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ.
- `/blog/:slug`: ุตูุญุฉ ุงูููุงู.
- `/user/:slug`: ุตูุญุฉ ุงููุงุชุจ.

ุฏุนููุง ุงูุขู ูููู ุนูููุง ูู ุชุซุจูุช ูุฅุนุฏุงุฏ `react-router`.

```bash
npm install react-router-dom
```

ููุง ูููุง ุจุชุญููู ููุชุจุฉ `react-router-dom`ุ ููู ุฌุฒุก `react-router` ุงููููู ุจุงูุชุนุงูู ูุน ุชุทุจููุงุช ุงูููุจุ ุจูููุง `react-router-native` ุตููุช [ูุชุทุจููุงุช React Native](/build-react-native-app-from-scratch) ููุฐุง ููุณ ููุถูุนูุง ุงูููู ูู ูุฐุง ุงูููุงู.

### ุงูุฅุนุฏุงุฏ

ูุญู ุงูุขู ูู ุญุงุฌุฉ ูุฑุจุท ูุดุฑูุนูุง ุจููุชุจุฉ `react-router-dom`.

ุงูุทุฑููุฉ ุณููุฉ ูุจุณูุทุฉ ๐

<div class="filename">index.js</div>

```jsx{3,9,11}
import React from 'react';
import ReactDOM from 'react-dom';
import { BrowserRouter } from 'react-router-dom';

import App from './App';

const rootElement = document.getElementById('root');
ReactDOM.render(
  <BrowserRouter>
    <App />
  </BrowserRouter>,
  rootElement
);
```

ูู ูุง ูุนููุงู ูู ุงุณุชูุฑุงุฏ ุงููููู `BrowserRouter` ููู ุซู ุฃุญุทูุง ุจู ุงููููู ุงูุฑุฆูุณู ูุชุทุจูููุง `<App />`.

## ุนูุฏุฉ ููุซุงู ุงููุฏููุฉ

ูู ูุณุชุฎุฏู ุฃู Backend ูุฌูุจ ุงูุชุฏูููุงุช ูุงูููุชุงุจุ ุจู ุณูููู ููุท ุจุฌูุจููุง ูู ูุตูููุชูู ูููู ุจุฅูุดุงุฆููุง ูุชุตุฏูุฑููุง ูู ุงูููู `data.js` ุงูุฐู ููุดุฆู ูู ุงููุฌูุฏ `src`.

<div class="filename">data.js</div>

```js
export const posts = [
  { slug: 'first-post', title: 'First Post', author: 'ahmed' },
  { slug: 'second-post', title: 'Second Post', author: 'kamal' },
  { slug: 'third-post', title: 'Third Post', author: 'ahmed' }
];
export const authors = [
  { slug: 'ahmed', name: 'Ahmed Salem' },
  { slug: 'kamal', name: 'Kamal Ibrahim' }
];
```

ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ููุง ูููุง ุณูุนุฑุถ ูููุง ุฑูุงุจุท ุงูุชุฏูููุงุช ูุจุฌุงูุจ ูู ุชุฏูููุฉ ูุถุน ุฑุงุจุทุง ูุฐูู ูุคุฏู ูุตูุญุฉ ูุงุชุจ ุชูู ุงูููุงูุฉ.

![ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ](../images/react-router-home-page.png)

## ุฅูุดุงุก ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

ูููุดุฆ ุฃููุง ุงููููู ุงูุฐู ุณููุซู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูููุฏููุฉ ูุฐูู ูู ููู `HomePage.js` ุจุงููุฌูุฏ `src`.

<div class="filename">HomePage.js</div>

```jsx{2,10,12}
import React from 'react';
import { Link } from 'react-router-dom';

import { posts, authors } from './data';

export default function() {
  return posts.map(post => {
    return (
      <li key={post.slug}>
        <Link to={`/blog/${post.slug}`}>{post.title}</Link>
        <span style={{ margin: '0 5px' }}>By</span>
        <Link to={`/user/${post.author}`}>
          <small>
            {authors.find(author => author.slug === post.author).name}
          </small>
        </Link>
      </li>
    );
  });
}
```

### Link

ุฃูู ูุง ูู ูุฐุง ุงูููุฏ ูู ุงุณุชูุฑุงุฏ ุงููููู `Link` ูู ููุชุจุฉ `react-router-dom`.

ูููููุง `Link` ูู ุฅูุดุงุก ุฑุงุจุท ูุญู ุตูุญุฉ ูุนููุฉ ุฏุงุฎู ุงูุชุทุจูู ูุฐูู ุจูุถู ุงูุฎุงุตูุฉ `to`. ููุงู ุฎุตุงุฆุต ุฃุฎุฑู ููุฐุง ุงููููู ูููู ูู ูุชุทุฑู ุฅูููุง ูู ูุฐุง ุงูุฏุฑุณ.

> ูููููู ุฅููุงุก ูุธุฑุฉ ูู [ุงูุชูุซูู ุงูุฑุณูู](https://reacttraining.com/react-router/web/api/Link/) ูู ุญุงู ุฃุฑุฏุชู ูุฒูุฏุง ูู ุงููุนูููุงุช.

ุจุงูู ุงูุดูุฑุฉ ุฃุธููุง ูุงุถุญุฉ ูุบููุฉ ุนู ุงูุดุฑุญ.

ููุท ูููุง ุจุนุฑุถ ุงูููุงูุงุช ุงูููุฌูุฏุฉ ูู ุงููุตูููุฉ `posts` ูุจุฌุงูุจ ูู ููุงู ุงุณู ุตุงุญุจู.

### Route

ุงูุขู ุฃูุดุฃูุง ุงููููู `HomePage` ูููููุง ูู ูุณุชุนููู ุจุนุฏ ูู ุฃู ููุงู.

ูุฌุจ ุนูููุง ุฃู ูููู ูููุชุจุฉ React Router ุจุฃููุง ูุฑูุฏ ุนุฑุถ ูุฐุง ุงููููู ุนูุฏูุง ูููู ุงูุฑุงุจุท ูู `/`.

ูููุชุญ ุงูููู `App.js` ุญูุซ ุงููููู ุงูุฑุฆูุณู `<App />` ููุถูู ุงูููุฏ ุงูุชุงูู:

<div class="filename">App.js</div>

```jsx{2,10-12}
import React from 'react';
import { Route, Switch } from 'react-router-dom';
import HomePage from './HomePage';

import './styles.css';

export default function App() {
  return (
    <div className="App">
      <Switch>
        <Route exact path="/" component={HomePage} />
      </Switch>
    </div>
  );
}
```

ููุง ุงุณุชุนูููุง ูููููู ุฌุฏูุฏูู ูู ุณูุณูุฉ ุงูููููุงุช ุงูุชู ุชููุฑูุง ููุง ููุชุจุฉ React Routerุ ูููุง: `<Switch>` ู `<Route>`.

- `Route` ูู ุงููููู ุงูุฐู ูุชููู ุนุฑุถ ุตูุญุฉ ูุญุฏุฏุฉ (ูููู `HomePage` ูู ูุฐู ุงูุญุงูุฉ) ุฅุฐุง ุชุญูู ุดุฑุท ุงูุฑุงุจุท ุงูููุฌูุฏ ูู ุงูุฎุงุตูุฉ `path`. ูุงูุฎุงุตูุฉ `exact` ูููู ูู ุฎูุงููุง ู React Router ุจุฃููุง ูุนูู ุจุงูุถุจุท ุงูุฑุงุจุท `/`ุ ูุฅูุง ูุฅูู ุณูุชู ุฏุงุฆูุง ุนุฑุถ `HomePage` ูุฃู ุฌููุน ุงูุฑูุงุจุท ุณุชุจุฏุฃ ุจ `/` ๐
- ุงููููู `<Switch>` ูุถู ุจูู ุซูุงูุงู ุฌููุน ููููุงุช `<Route />` **ููุนุฑุถ ุฃูู ูููู ูุชุญูู ููู** ุงูุดุฑุท ุงูููุฌูุฏ ูู ุงูุฎุงุตูุฉ `path`.

## ุตูุญุฉ ุงูููุงูุฉ

ุจููุณ ุงูุทุฑููุฉุ ุณูููู ุจุฅูุดุงุก ูููู `PostPage` ูู ููู `PostPage.js`. ูุฐุง ุงููููู ุณูููู ุงููุนูู ุจุนุฑุถ ุงูุตูุญุฉ ุญูุซ ุชูุงุตูู ุงูููุงูุฉ. ูู ูุฐุง ุงููุซุงู ุณููุชูู ุจุงูุนููุงู ููุท.

<div class="filename">PostPage.js</div>

```jsx{2,7}
import React from 'react';
import { useParams } from 'react-router-dom';
import { posts } from './data';

export default function() {
  const [post, setPost] = React.useState({});
  const { slug } = useParams();

  React.useEffect(() => {
    const current = posts.find(post => post.slug === slug);
    setPost(current);
  }, [slug]);

  return <h1>{post.title}</h1>;
}
```

ูููุฉ ุงูุณุฑ ูู ุงูููุฏ ุฃุนูุงู ูู ุงูุฏุงูุฉ `useParams()`ุ ููู ููุง ุชูุงุญุธูู ุชูุนุจ ููุง ุฏูุฑ Hook ูุชููู ุจูุงุณุทุชู ูู ุงุณุชุฑุฌุงุน ูููุฉ ุงูุจุงุฑุงูุชุฑ `slug` ุงูุฐู ูุชู ุชูุฑูุฑู ุนุจุฑ URL.

ุจูุงุณุทุฉ ูุฐุง ุงูุจุงุฑุงูุชุฑ ุณูุณุชุทูุน ุทูุจ ูุฌูุจ ุงูููุงูุฉ ุงูููุงุณุจุฉ.

```terminal
/blog/:slug
```

## ุตูุญุฉ ุงููุงุชุจ

ุฃุธู ุงูุขู ุฃูู ุชุณุชุทูุน ุนูู ุตูุญุฉ ุงููุงุชุจ ููุญุฏู ๐

ููุง ุญุงูู ูููุฑุฏุง ููุง ุชุนุฏ ูุฅููุงู ูุฐุง ุงูุฏุฑุณ ุฅูุง ุจุนุฏ ุฃู ุชููู ุชูู ุงูุตูุญุฉ โฑ

<div class="filename">AuthorPage.js</div>

```jsx
import React from 'react';
import { useParams, Link } from 'react-router-dom';
import { posts, authors } from './data';

export default function() {
  const [author, setAuthor] = React.useState({});
  const [authorPosts, setAuthorPosts] = React.useState([]);
  const { slug } = useParams();

  React.useEffect(() => {
    const currentAuthor = authors.find(author => author.slug === slug);
    const currentAuthorPosts = posts.filter(post => post.author === slug);

    setAuthor(currentAuthor);
    setAuthorPosts(currentAuthorPosts);
  }, [slug]);

  return (
    <>
      <h1>Posts by: {author.name}</h1>
      <ul>
        {authorPosts.map(post => (
          <li key={post.slug}>
            <Link to={`/blog/${post.slug}`}>{post.title}</Link>
          </li>
        ))}
      </ul>
    </>
  );
}
```

ุงููุชูุฌุฉ ูู ูุงูุชุงูู:

![React Router](../images/react-router-user-page.png)

ุฅูู ููุง ูููู ูุซุงู ุงููุฏููุฉ ูุฏ ุงูุชููุ ููููููู ุฑุคูุฉ ุงูููุฏ ูุงููุง ูู ุฎูุงู [ูุฐุง ุงูุฑุงุจุท](https://github.com/aissa-bouguern/testing-react-router/).

## NavLink

ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ูููููุน ูุญุชุงุฌ ูู ุงูุนุงุฏุฉ ููู ูุถูู ููุงุณ ูุนูู (`active` ูุซูุง) ุฅูู ุฃุญุฏ ุนูุงุตุฑ ุงููุงุฆูุฉ ููู ูุนุฑู ุงูุฒุงุฆุฑ ูู ุฃู ุตูุญุฉ ุฃู ูู ุฃู ูุณู ูู ุงููููุน ูู ุงูุขู. ุงููููู `<Link />` ูุง ูุณูุญ ุจุฅุถุงูุฉ ูุฐุง ุงูุฎุงุตูุฉ ููุฐูู ุชููุฑ ููุชุจุฉ `react-router-dom` ููููุง ุขุฎุฑ ูุคุฏู ููุณ ุงูุฏูุฑ ุชูุฑูุจุง ููููู ูุชูุงุกู ุจุดูู ุฃุณุงุณู ูุน ุงูููุงุฆู (Navigations/Menus).

ูุฐุง ุงููููู ูู `<NavLink />` ููุณุชุนูู ุจููุณ ุทุฑููุฉ ุงุณุชุนูุงู `<Link />` ุฅูุง ุฃูู ููุจู ุงูุฎุงุตูุฉ `activeClassName` ูุฅุฎุจุงุฑู ุนู ุงูููุงุณ ุงูุฐู ุณูุถุงู ููุฑุงุจุท.

```jsx
<NavLink exact activeClassName="active" to="/">
  Home
</NavLink>
```

## ุงูุชูุฌูู ุจุฑูุฌูุง

ูู ุฃุญูุงู ูุซูุฑุฉ ูุญุชุงุฌ ูุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ูุนููุฉ ุจุดูู ุจุฑูุฌู ูููุณ ุนู ุทุฑูู ุงููููู `<Link />`.

ูุซูุง ุนูุฏูุง ูููู ุจุชุณุฌูู ุงูุฏุฎูู ุฃู ุงูุฎุฑูุฌ ููุฌูู ูุจุงุดุฑุฉ ุฅูู ููุญุฉ ุงูุชุญูู ุฃู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ.

ุงูุทุฑููุฉ ุจุณูุทุฉ ูุชุชู ุนู ุทุฑูู `useHistory()` ููุง ูู ูุฐุง ุงููุซุงู:

```jsx{2,9}
function AuthButton() {
  let history = useHistory();

  return fakeAuth.isAuthenticated ? (
    <p>
      Welcome!
      <button
        onClick={() => {
          fakeAuth.signout(() => history.push('/'));
        }}
      >
        Sign out
      </button>
    </p>
  ) : (
    <p>You are not logged in.</p>
  );
}
```

## ูู ุงูุฎุชุงู

ููุฐุง ูููู ูุฏ ูุฑุฑูุง ุนูู ูุฌููุนุฉ ูู ุงููุฒุงูุง ุงูุชู ุชููุฑูุง ููุง ุญุฒูุฉ React Router ููุชููู ุจูู ุงูุตูุญุงุช ูู ุชุทุจููุงุช React.js.

ููุฅุทูุงุน ุนูู ุจุงูู ุงููููุฒุงุช ูุงูุฎุตุงุฆุต ุฃุฏุนููู ูุฒูุงุฑุฉ [ุงูุชูุซูู ุงูุฑุณูู ููููุชุจุฉ](https://reacttraining.com/react-router/web/guides/quick-start) ููุชุงุจุนุฉ ุงูุฃูุซูุฉ ุงููุงุฑุฏุฉ ููู.

<Author slug="aissa" />
